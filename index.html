<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>부광고 1-1</title>

  <link rel="stylesheet" href="style.css?v=1.4" />

  <!-- Firebase compat (앱/인증/파이어스토어) -->
  <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore-compat.js"></script>

  <!-- 네가 가진 env.js (firebaseConfig / PUBLIC_UID / ADMIN_UIDS 등) -->
  <script src="env.js?v=1"></script>
</head>

<body>
  <!-- 수정 모달 루트 -->
  <div id="modal-root"></div>

  <!-- 상단바 -->
  <header class="topbar">
    <h1>사이트 버전 v1.1.3 (부광고.웹.한국)</h1>
    <div class="auth">
      <span id="userInfo">수정 권한 없음음</span>
      <button id="loginBtn"  type="button" class="btn btn--primary">로그인</button>
      <button id="logoutBtn" type="button" class="btn btn--ghost" style="display:none;">로그아웃</button>
    </div>
  </header>

  <main class="container">

    <!-- 중요 전달 사항 -->
    <section class="sec" id="sec_notice">
      <button class="section-head" type="button">
        <span>📣 중요 전달 사항</span>
        <span class="spacer"></span>
        <label class="switch admin-only">
          <input id="toggleNotices" type="checkbox" />
          <span class="slider round"></span>
        </label>
      </button>
      <div class="section-body">
        <ul id="list_notice" class="card-list"></ul>

        <!-- 전달 사항 추가 -->
        <div class="add-row admin-only">
          <input id="nTitle" class="input" placeholder="제목" />
          <select id="nKind" class="select">
            <option value="notice">공지(빨강)</option>
            <option value="info">안내(노랑)</option>
            <option value="alert">참고(초록)</option>
          </select>
          <textarea id="nBody" class="detail" placeholder="내용 (줄바꿈 가능)"></textarea>
          <button id="nAddBtn" class="btn btn--primary add">+ 추가</button>
        </div>
      </div>
    </section>

    <!-- 시험 -->
    <section class="sec" id="sec_exams">
      <button class="section-head" type="button"><span>📝 시험</span></button>
      <div class="section-body">
        <ul id="list_exam" class="task-list"></ul>

        <!-- 시험 추가(과목 입력칸 없음) -->
        <div class="add-row admin-only" data-cat="exams">
          <input id="eName" class="text" placeholder="시험 이름" />
          <textarea id="eDetail" class="detail" placeholder="상세 내용"></textarea>

          <input id="eStart" type="date" class="date-start" />
          <input id="eEnd"   type="date" class="date-end" />
          <input id="ePeriod" class="period" placeholder="교시/시간 (예: 1교시 09:10 - 10:00)" />

          <button id="eAddBtn" class="btn btn--primary add">+ 추가</button>
        </div>
      </div>
    </section>

    <!-- 수행평가 -->
    <section class="sec" id="sec_tasks">
      <button class="section-head" type="button"><span>📄 수행평가</span></button>
      <div class="section-body">
        <ul id="list_task" class="task-list"></ul>

        <!-- 수행 추가 -->
        <div class="add-row admin-only" data-cat="tasks">
          <input id="tSubj"   class="subj"  placeholder="과목" />
          <input id="tTitle"  class="text"  placeholder="내용" />
          <textarea id="tDetail" class="detail" placeholder="상세 내용"></textarea>

          <input id="tStart" type="date" class="date-start" />
          <input id="tEnd"   type="date" class="date-end" />
          <input id="tPeriod" class="period" placeholder="교시/시간 (선택)" />

          <button id="tAddBtn" class="btn btn--primary add">+ 추가</button>
        </div>
      </div>
    </section>

    <!-- 숙제 -->
    <section class="sec" id="sec_homeworks">
      <button class="section-head" type="button"><span>📌 숙제</span></button>
      <div class="section-body">
        <ul id="list_homework" class="task-list"></ul>

        <!-- 숙제 추가 -->
        <div class="add-row admin-only" data-cat="homeworks">
          <input id="hSubj"   class="subj"  placeholder="과목" />
          <input id="hTitle"  class="text"  placeholder="내용" />
          <textarea id="hDetail" class="detail" placeholder="상세 내용"></textarea>

          <input id="hStart" type="date" class="date-start" />
          <input id="hEnd"   type="date" class="date-end" />
          <input id="hPeriod" class="period" placeholder="교시/시간 (선택)" />

          <button id="hAddBtn" class="btn btn--primary add">+ 추가</button>
        </div>
      </div>
    </section>
  </main>

  <!-- 앱 스크립트 -->
  <script src="app.js?v=1.4"></script>
</body>
</html>
