<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë¶€ê´‘ê³  1-1 ìˆ™ì œ & ìˆ˜í–‰í‰ê°€</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- ìƒë‹¨ ë°” -->
  <header class="admin-bar">
    <h1>ğŸ“’ ìˆ™ì œ & ìˆ˜í–‰í‰ê°€</h1>
    <div class="right">
      <span id="adminBadge" class="badge" style="display:none">ê´€ë¦¬ì</span>
      <button id="loginBtn" class="btn">ğŸ”‘ Google ë¡œê·¸ì¸</button>
      <button id="logoutBtn" class="btn" style="display:none">ğŸšª ë¡œê·¸ì•„ì›ƒ</button>
    </div>
  </header>

  <main class="container">

    <!-- ================= ì „ë‹¬ ì‚¬í•­ ================= -->
    <section class="notice-block">
      <div class="notice-head">
        <div class="left">
          <span class="title">ğŸ“¢ ì¤‘ìš” ì „ë‹¬ ì‚¬í•­</span>
        </div>
        <div class="right">
          <!-- í† ê¸€ì€ í•­ìƒ ë³´ì´ê²Œ -->
          <label class="switch">
            <input id="toggleNotice" type="checkbox">
            <span class="slider"></span>
          </label>
        </div>
      </div>

      <!-- êº¼ì§ ì•ˆë‚´ ë©”ì‹œì§€(ëª©ë¡ ìˆ¨ê¹€ì‹œë§Œ ì•ˆë‚´) -->
      <div id="noticeHiddenMsg" class="notice-muted" style="display:none">
        (í˜„ì¬ ì „ë‹¬ ì‚¬í•­ì€ â€œí‘œì‹œ ë”â€ ìƒíƒœì…ë‹ˆë‹¤. ê´€ë¦¬ìë§Œ í† ê¸€í•  ìˆ˜ ìˆì–´ìš”.)
      </div>

      <!-- ì „ë‹¬ ì‚¬í•­ ëª©ë¡ -->
      <div id="noticeList" class="notice-list"></div>

      <!-- ì „ë‹¬ ì‚¬í•­ ì…ë ¥(ê´€ë¦¬ìë§Œ ë³´ì„) -->
      <div id="noticeForm" class="notice-form" style="display:none">
        <div class="row">
          <input id="noticeTitle" class="input" placeholder="ì œëª©" />
          <select id="noticeLevel" class="input">
            <option value="info">ì•ˆë‚´(íŒŒë‘)</option>
            <option value="warn">ì£¼ì˜(ì£¼í™©)</option>
            <option value="alert">ì¤‘ìš”(ë¹¨ê°•)</option>
          </select>
          <button id="btnAddNotice" class="btn primary">+ ì¶”ê°€</button>
        </div>
        <textarea id="noticeBody" class="input wide" placeholder="ë‚´ìš© (ì¤„ë°”ê¿ˆ ê°€ëŠ¥)"></textarea>
      </div>
    </section>

    <!-- ================= ì‹œí—˜ ================= -->
    <section>
      <button class="section-head" onclick="toggleSection('sec_exam')">ğŸ§ª ì‹œí—˜ â–¾</button>
      <div id="sec_exam" class="section-body open">
        <ul id="list_exam" class="task-list"></ul>

        <!-- ê´€ë¦¬ìë§Œ ì…ë ¥ ë³´ì„ -->
        <div class="add-row" data-cat="exam" style="display:none">
          <input class="subj" type="text" placeholder="ê³¼ëª©" />
          <input class="text" type="text" placeholder="ë‚´ìš©" />
          <input class="date" type="date" />
          <input class="date2" type="date" placeholder="ì¢…ë£Œì¼(ì„ íƒ)" />
          <select class="pStart">
            <option value="">êµì‹œ ì—†ìŒ</option>
            <option>1êµì‹œ</option><option>2êµì‹œ</option><option>3êµì‹œ</option>
            <option>4êµì‹œ</option><option>5êµì‹œ</option><option>6êµì‹œ</option>
            <option>7êµì‹œ</option>
          </select>
          <select class="pEnd">
            <option value="">êµì‹œ ì—†ìŒ</option>
            <option>1êµì‹œ</option><option>2êµì‹œ</option><option>3êµì‹œ</option>
            <option>4êµì‹œ</option><option>5êµì‹œ</option><option>6êµì‹œ</option>
            <option>7êµì‹œ</option>
          </select>
          <button class="add btn primary">+ ì¶”ê°€</button>
        </div>
        <textarea class="detail add-row-detail" data-cat="exam" style="display:none" placeholder="ìƒì„¸ ë‚´ìš© (ì„ íƒ)"></textarea>
      </div>
    </section>

    <!-- ================= ìˆ˜í–‰í‰ê°€ ================= -->
    <section>
      <button class="section-head" onclick="toggleSection('sec_perf')">ğŸ“ ìˆ˜í–‰í‰ê°€ â–¾</button>
      <div id="sec_perf" class="section-body open">
        <ul id="list_perf" class="task-list"></ul>

        <div class="add-row" data-cat="perf" style="display:none">
          <input class="subj" type="text" placeholder="ê³¼ëª©" />
          <input class="text" type="text" placeholder="ë‚´ìš©" />
          <input class="date" type="date" />
          <input class="date2" type="date" placeholder="ì¢…ë£Œì¼(ì„ íƒ)" />
          <select class="pStart">
            <option value="">êµì‹œ ì—†ìŒ</option>
            <option>1êµì‹œ</option><option>2êµì‹œ</option><option>3êµì‹œ</option>
            <option>4êµì‹œ</option><option>5êµì‹œ</option><option>6êµì‹œ</option>
            <option>7êµì‹œ</option>
          </select>
          <select class="pEnd">
            <option value="">êµì‹œ ì—†ìŒ</option>
            <option>1êµì‹œ</option><option>2êµì‹œ</option><option>3êµì‹œ</option>
            <option>4êµì‹œ</option><option>5êµì‹œ</option><option>6êµì‹œ</option>
            <option>7êµì‹œ</option>
          </select>
          <button class="add btn primary">+ ì¶”ê°€</button>
        </div>
        <textarea class="detail add-row-detail" data-cat="perf" style="display:none" placeholder="ìƒì„¸ ë‚´ìš© (ì„ íƒ)"></textarea>
      </div>
    </section>

    <!-- ================= ìˆ™ì œ ================= -->
    <section>
      <button class="section-head" onclick="toggleSection('sec_home')">ğŸ“Œ ìˆ™ì œ â–¾</button>
      <div id="sec_home" class="section-body open">
        <ul id="list_home" class="task-list"></ul>

        <div class="add-row" data-cat="home" style="display:none">
          <input class="subj" type="text" placeholder="ê³¼ëª©" />
          <input class="text" type="text" placeholder="ë‚´ìš©" />
          <input class="date" type="date" />
          <input class="date2" type="date" placeholder="ì¢…ë£Œì¼(ì„ íƒ)" />
          <select class="pStart">
            <option value="">êµì‹œ ì—†ìŒ</option>
            <option>1êµì‹œ</option><option>2êµì‹œ</option><option>3êµì‹œ</option>
            <option>4êµì‹œ</option><option>5êµì‹œ</option><option>6êµì‹œ</option>
            <option>7êµì‹œ</option>
          </select>
          <select class="pEnd">
            <option value="">êµì‹œ ì—†ìŒ</option>
            <option>1êµì‹œ</option><option>2êµì‹œ</option><option>3êµì‹œ</option>
            <option>4êµì‹œ</option><option>5êµì‹œ</option><option>6êµì‹œ</option>
            <option>7êµì‹œ</option>
          </select>
          <button class="add btn primary">+ ì¶”ê°€</button>
        </div>
        <textarea class="detail add-row-detail" data-cat="home" style="display:none" placeholder="ìƒì„¸ ë‚´ìš© (ì„ íƒ)"></textarea>
      </div>
    </section>

  </main>

  <!-- Firebase SDK (compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <!-- Firebase ì´ˆê¸°í™” -->
  <script>
    const firebaseConfig = {
      /* â¬‡â¬‡ ë‹¹ì‹  í”„ë¡œì íŠ¸ ê°’ìœ¼ë¡œ ìœ ì§€/êµì²´ â¬‡â¬‡ */
      apiKey: "AIzaSyBbThwhLWHJz8mBHGvhpWOL88cP9C7Nxio",
      authDomain: "my-memo-site.firebaseapp.com",
      projectId: "my-memo-site",
      storageBucket: "my-memo-site.firebasestorage.app",
      messagingSenderId: "196036694705",
      appId: "1:196036694705:web:8988d12919420130464890"
      /* â¬†â¬† */
    };
    firebase.initializeApp(firebaseConfig);
  </script>

  <!-- ì•± ì½”ë“œ -->
  <script>
    // ===== ê¸°ë³¸ ìƒìˆ˜/í•¸ë“¤ =====
    const auth = firebase.auth();
    const db   = firebase.firestore();

    const ADMIN_UID = "vv0bADtWdqQUnqFMy8k01dhO13t2";   // ê´€ë¦¬ì UID (ìˆ˜ì •)
    const OWNER_UID = ADMIN_UID;                         // ë¹„ë¡œê·¸ì¸ ê³µê°œ ì½ê¸° ì†ŒìŠ¤(ê¸°ì¡´ê³¼ ë™ì¼)

    const $  = (q, r=document)=>r.querySelector(q);
    const $$ = (q, r=document)=>Array.from(r.querySelectorAll(q));

    const el = {
      login: $("#loginBtn"),
      logout: $("#logoutBtn"),
      adminBadge: $("#adminBadge"),
      lists: { exam: $("#list_exam"), perf: $("#list_perf"), home: $("#list_home") },
      // notice
      noticeList:  $("#noticeList"),
      noticeForm:  $("#noticeForm"),
      noticeTitle: $("#noticeTitle"),
      noticeLevel: $("#noticeLevel"),
      noticeBody:  $("#noticeBody"),
      noticeToggle: $("#toggleNotice"),
      noticeHiddenMsg: $("#noticeHiddenMsg"),
    };

    let currentUser = null;
    let isAdmin = false;
    let unsub = [];
    let unsubNotice = null;
    let unsubSettings = null;

    // ===== ì„¹ì…˜ í† ê¸€ ì €ì¥/ë³µì› =====
    const OPEN_KEY = "memo:open-v2";
    function toggleSection(id){
      const b = $("#"+id);
      if(!b) return;
      b.classList.toggle("open");
      saveOpen();
    }
    function saveOpen(){
      const s = {
        exam: $("#sec_exam").classList.contains("open"),
        perf: $("#sec_perf").classList.contains("open"),
        home: $("#sec_home").classList.contains("open"),
      };
      localStorage.setItem(OPEN_KEY, JSON.stringify(s));
    }
    (function restoreOpen(){
      try{
        const s = JSON.parse(localStorage.getItem(OPEN_KEY)||"{}");
        if(s.exam===false) $("#sec_exam")?.classList.remove("open");
        if(s.perf===false) $("#sec_perf")?.classList.remove("open");
        if(s.home===false) $("#sec_home")?.classList.remove("open");
      }catch{}
    })();

    // ===== ê³µìš© ìœ í‹¸ =====
    function esc(s){ return (s||"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;"); }
    function fmtDate(y,m,d){
      const weekday = ["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "];
      const dt = new Date(`${y}-${m}-${d}T00:00:00`);
      return `${y}-${m}-${d} (${weekday[dt.getDay()]})`;
    }
    function ddayBadge(dateStr){
      if(!dateStr) return "";
      const t0 = new Date().setHours(0,0,0,0);
      const t1 = new Date(dateStr+"T00:00:00").getTime();
      const diff = Math.round((t1 - t0)/86400000);

      let label="", cls="";
      if(diff > 0){
        label = `D-${diff}`;
        if(diff<=1) cls="dd-red";
        else if(diff<=3) cls="dd-orange";
        else if(diff<=5) cls="dd-yellow";
        else cls="dd-green";
      }else if(diff === 0){
        label = "D-day";
        cls = "dd-red";
      }else{
        label = `D+${Math.abs(diff)}`;
        cls = "dd-past";
      }
      return `<span class="dday ${cls}">${label}</span>`;
    }

    // ===== Firestore ê²½ë¡œ =====
    const userCol = (uid)=>db.collection("users").doc(uid).collection("tasks");
    const col     = (cat)=>{
      const uid = (currentUser?.uid) || OWNER_UID;
      return userCol(uid).doc(cat).collection("items");
    };

    // ===== ë Œë”ë§(ì¹´ë“œ) =====
    function renderItem(cat, arr){
      const ul = el.lists[cat];
      ul.innerHTML = "";
      for(const it of arr){
        const dateText = it.due ? fmtDate(...it.due.split("-")) : "";
        const when = it.pStart && it.pEnd ? `${it.pStart} ~ ${it.pEnd}`
                  : it.pStart ? it.pStart
                  : it.pEnd   ? it.pEnd : "";

        const dBadge = ddayBadge(it.due);

        const li = document.createElement("li");
        li.className = "task";
        li.innerHTML = `
          <div class="task__left">
            <label class="chk-wrap">
              <input type="checkbox" ${it.done?"checked":""} data-act="toggle" data-cat="${cat}" data-id="${it.id}">
              <span></span>
            </label>
          </div>
          <div class="task__main ${it.done?'done':''}">
            <div class="line1">
              <div class="subject">
                <b>${esc(it.subj||"")}</b>
                ${dBadge}
              </div>
            </div>
            <div class="line2">${esc(it.text||"")}</div>
            ${it.detail ? `<div class="line3">${esc(it.detail)}</div>` : ""}
            <div class="meta">
              ${it.due?`<span class="cal">ğŸ“… ${fmtDate(...it.due.split("-"))}${when?` Â· ${when}`:""}</span>`:""}
            </div>
          </div>
          <div class="task__right" style="display:${isAdmin?'':'none'}">
            <button class="btn ghost" data-act="edit" data-cat="${cat}" data-id="${it.id}">ìˆ˜ì •</button>
            <button class="btn ghost" data-act="del"  data-cat="${cat}" data-id="${it.id}">ì‚­ì œ</button>
          </div>
        `;
        ul.appendChild(li);
      }

      ul.onclick = async (e)=>{
        const t = e.target;
        const act = t.getAttribute("data-act");
        if(!act) return;
        const id  = t.getAttribute("data-id");
        const cat2= t.getAttribute("data-cat");

        if(act==="toggle"){
          if(!currentUser){ t.checked=!t.checked; return alert("ë¡œê·¸ì¸ í›„ ì™„ë£Œ ì²´í¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤."); }
          await col(cat2).doc(id).update({ done: t.checked });
        }else if(act==="del"){
          if(!isAdmin) return;
          if(confirm("ì‚­ì œí• ê¹Œìš”?")){
            await col(cat2).doc(id).delete();
          }
        }else if(act==="edit"){
          if(!isAdmin) return;
          openEdit(cat2, id);
        }
      };
    }

    // ===== ì‹¤ì‹œê°„ êµ¬ë… =====
    function startListeners(){
      unsub.forEach(u=>u&&u()); unsub=[];
      ["exam","perf","home"].forEach(cat=>{
        const u = col(cat).orderBy("due","asc").onSnapshot(snap=>{
          const arr=[];
          snap.forEach(d=>arr.push({id:d.id,...d.data()}));
          renderItem(cat, arr);
        });
        unsub.push(u);
      });

      // ì „ë‹¬ ì‚¬í•­
      if(unsubNotice) unsubNotice();
      unsubNotice = db.collection("notice").orderBy("createdAt","desc").onSnapshot(snap=>{
        const arr=[]; snap.forEach(d=>arr.push({id:d.id,...d.data()}));
        renderNotice(arr);
      });

      // í‘œì‹œ ì„¤ì •
      const settingsDoc = db.collection("settings").doc("global");
      if(unsubSettings) unsubSettings();
      unsubSettings = settingsDoc.onSnapshot(doc=>{
        const v = doc.exists ? !!doc.data().showNotice : false;
        el.noticeToggle.checked = v;
        el.noticeList.classList.toggle("hidden", !v);
        el.noticeHiddenMsg.style.display = v ? "none" : "";
      });
    }

    // ===== ì „ë‹¬ ì‚¬í•­ ë Œë” =====
    function renderNotice(items){
      el.noticeList.innerHTML = "";
      if(items.length===0){
        el.noticeList.innerHTML = `<div class="notice-card empty">ë“±ë¡ëœ ì „ë‹¬ ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</div>`;
        return;
      }
      for(const it of items){
        const color = it.level==="alert" ? "alert" :
                      it.level==="warn"  ? "warn"  : "info";
        const card = document.createElement("div");
        card.className = `notice-card ${color}`;
        card.innerHTML = `
          <div class="notice-title">${esc(it.title||"")}</div>
          <div class="notice-body">${(it.body||"").replaceAll("\n","<br>")}</div>
          <div class="notice-actions" style="display:${isAdmin?'flex':'none'}">
            <button class="btn ghost" data-id="${it.id}" data-act="editNotice">ìˆ˜ì •</button>
            <button class="btn ghost" data-id="${it.id}" data-act="delNotice">ì‚­ì œ</button>
          </div>
        `;
        el.noticeList.appendChild(card);
      }

      el.noticeList.onclick = async (e)=>{
        const t = e.target;
        const act= t.getAttribute("data-act");
        if(!act) return;
        const id = t.getAttribute("data-id");
        if(act==="delNotice"){
          if(!isAdmin) return;
          if(confirm("ì „ë‹¬ ì‚¬í•­ì„ ì‚­ì œí• ê¹Œìš”?")) await db.collection("notice").doc(id).delete();
        }else if(act==="editNotice"){
          if(!isAdmin) return;
          // ê°„ë‹¨ í¸ì§‘ í”„ë¡¬í”„íŠ¸
          const doc = await db.collection("notice").doc(id).get();
          const d = doc.data();
          const title = prompt("ì œëª©", d.title||""); if(title===null) return;
          const body  = prompt("ë‚´ìš©(ì¤„ë°”ê¿ˆ \\n)", d.body||""); if(body===null) return;
          const level = prompt("ë ˆë²¨(info/warn/alert)", d.level||"info")||"info";
          await db.collection("notice").doc(id).update({ title, body, level });
        }
      };
    }

    // ===== ì „ë‹¬ ì‚¬í•­ ì¶”ê°€ & í† ê¸€ =====
    $("#btnAddNotice").addEventListener("click", async ()=>{
      if(!isAdmin) return alert("ê´€ë¦¬ìë§Œ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”.");
      const title = el.noticeTitle.value.trim();
      const body  = el.noticeBody.value.trim();
      const level = el.noticeLevel.value;
      if(!title || !body) return alert("ì œëª©/ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
      await db.collection("notice").add({
        title, body, level,
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
      });
      el.noticeTitle.value=""; el.noticeBody.value="";
    });

    el.noticeToggle.addEventListener("change", async ()=>{
      const settingsDoc = db.collection("settings").doc("global");
      if(!isAdmin){
        // ê¶Œí•œ ì—†ìœ¼ë©´ ë˜ëŒë¦¬ê¸°
        const snap = await settingsDoc.get();
        const v = snap.exists ? !!snap.data().showNotice : false;
        el.noticeToggle.checked = v;
        return alert("ê´€ë¦¬ìë§Œ ë³€ê²½í•  ìˆ˜ ìˆì–´ìš”.");
      }
      try{
        await settingsDoc.set({ showNotice: el.noticeToggle.checked }, { merge:true });
      }catch(e){
        alert("ì„¤ì • ì €ì¥ ì‹¤íŒ¨: " + e.message);
      }
    });

    // ===== ì¶”ê°€ í¼ ë°”ì¸ë“œ =====
    function bindAddRows(){
      $$(".add-row").forEach(row=>{
        row.style.display = isAdmin? "" : "none";
      });
      $$(".add-row-detail").forEach(a=>{
        a.style.display = isAdmin? "" : "none";
      });

      $$(".add-row .add").forEach(btn=>{
        btn.onclick = async ()=>{
          if(!isAdmin) return alert("ê´€ë¦¬ìë§Œ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”.");
          const row = btn.closest(".add-row");
          const cat = row.dataset.cat;

          const subj = $(".subj", row).value.trim();
          const text = $(".text", row).value.trim();
          const due  = $(".date", row).value;
          const due2 = $(".date2", row).value;
          const pStart = $(".pStart", row).value;
          const pEnd   = $(".pEnd", row).value;
          const detail = $(`.add-row-detail[data-cat="${cat}"]`)?.value || "";

          if(!subj || !text || !due) return alert("ê³¼ëª©/ë‚´ìš©/ë‚ ì§œëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.");

          await col(cat).add({
            subj, text, detail,
            due, due2: due2||"",
            pStart: pStart||"", pEnd: pEnd||"",
            done:false,
            createdAt: firebase.firestore.FieldValue.serverTimestamp()
          });

          $(".subj", row).value="";
          $(".text", row).value="";
          $(".date", row).value="";
          $(".date2", row).value="";
          $(".pStart", row).value="";
          $(".pEnd", row).value="";
          if($(`.add-row-detail[data-cat="${cat}"]`)) $(`.add-row-detail[data-cat="${cat}"]`).value="";
        };
      });
    }

    // ===== ìˆ˜ì • íŒì—…(ê°„ë‹¨) =====
    async function openEdit(cat, id){
      const doc = await col(cat).doc(id).get();
      const d = doc.data();
      const subj = prompt("ê³¼ëª©", d.subj||""); if(subj===null) return;
      const text = prompt("ë‚´ìš©", d.text||""); if(text===null) return;
      const due  = prompt("ë‚ ì§œ(YYYY-MM-DD)", d.due||""); if(due===null) return;
      const due2 = prompt("ì¢…ë£Œì¼(ì„ íƒ)", d.due2||"");
      const pStart= prompt("ì‹œì‘ êµì‹œ(ë¹ˆì¹¸ ê°€ëŠ¥)", d.pStart||"");
      const pEnd  = prompt("ë êµì‹œ(ë¹ˆì¹¸ ê°€ëŠ¥)", d.pEnd||"");
      const detail= prompt("ìƒì„¸ ë‚´ìš©(ì„ íƒ, \\n ì¤„ë°”ê¿ˆ)", d.detail||"")||"";
      await col(cat).doc(id).update({ subj, text, due, due2:due2||"", pStart:pStart||"", pEnd:pEnd||"", detail });
    }

    // ===== ë¡œê·¸ì¸/ê¶Œí•œ =====
    el.login.onclick  = ()=>auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());
    el.logout.onclick = ()=>auth.signOut();

    auth.onAuthStateChanged(u=>{
      currentUser = u || null;
      isAdmin = !!(currentUser && currentUser.uid===ADMIN_UID);

      el.login.style.display  = currentUser? "none": "";
      el.logout.style.display = currentUser? "": "none";
      el.adminBadge.style.display = isAdmin? "inline-block": "none";

      // ê´€ë¦¬ìì¼ ë•Œë§Œ ì…ë ¥ ì˜ì—­/ë²„íŠ¼ í‘œì‹œ
      bindAddRows();

      // ì¹´ë“œ ìš°ì¸¡ ìˆ˜ì •/ì‚­ì œ ë³´ì„ ì œì–´ëŠ” ë Œë” ë‚´ë¶€ì—ì„œ isAdmin ì‚¬ìš©

      startListeners();
    });

    // ===== 1ë¶„ë§ˆë‹¤ D-day ë°°ì§€ ë¦¬í”„ë ˆì‹œ(ë¶€ë“œëŸ½ê²Œ) =====
    setInterval(()=>{
      // ë¦¬ìŠ¤íŠ¸ ì¬ë Œë” ëŒ€ì‹ , ë±ƒì§€ í…ìŠ¤íŠ¸ë§Œ ê°±ì‹ 
      $$(".task .meta .cal").forEach(()=>{}); // NOP(ì‹¤ì‹œê°„ ìŠ¤ëƒ…ìƒ·ìœ¼ë¡œ ì½˜í…ì¸  ìœ ì§€)
      // í•„ìš”ì‹œ location.reload(); ë¡œ ë°”ê¿€ ìˆ˜ ìˆìŒ(ì¶”ì²œX)
    }, 60000);
  </script>
</body>
</html>
