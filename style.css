/* ==== 색 팔레트(대비 강화) ==== */
:root{
  --page-bg:   #0b1220;   /* 페이지 배경 */
  --card-bg:   #0f1720;   /* 카드 안쪽 */
  --border:    rgba(255,255,255,.08);

  --fg-strong: #e9eef6;   /* 제목/강조 */
  --fg-base:   #d1d8e2;   /* 일반 본문 */
  --fg-dim:    #9aa6b2;   /* 메타/부가 */

  --blue:   #648bff;
  --red:    #ef4444;
  --orange: #f59e0b;
  --yellow: #fde047;
  --green:  #22c55e;
  --gray:   #64748b;
}

/* ==== 리셋 & 폰트 ==== */
*{ box-sizing:border-box; }
html, body{ height:100%; }

body{
  margin:0;
  color:var(--fg-base);
  background:var(--page-bg);

  /* PC에서도 강제로 폰트가 적용되도록 !important */
  font-family: "Noto Sans KR", system-ui, -apple-system, "Segoe UI",
               Roboto, "Helvetica Neue", Arial, "Apple SD Gothic Neo",
               "Malgun Gothic", "맑은 고딕", "Noto Sans", sans-serif !important;

  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height:1.65;
  font-size:16px;
}

/* ==== 레이아웃 ==== */
.container{ max-width:1100px; margin:24px auto; padding:0 16px; }

.topbar{
  position:sticky; top:0; z-index:3;
  background:rgba(11,18,32,.88); backdrop-filter:saturate(180%) blur(8px);
  border-bottom:1px solid var(--border);
  padding:12px 16px;
  display:flex; align-items:center; justify-content:space-between;
}
.topbar h1{ margin:0; font-size:20px; color:var(--fg-strong); }
.auth .btn{ margin-left:8px; }

/* 섹션 */
.sec{
  margin:20px 0;
  border:1px solid var(--border);
  border-radius:14px;
  overflow:hidden;
  background:var(--card-bg);
}
.section-head{
  width:100%; text-align:left;
  background:rgba(255,255,255,.04);
  border-bottom:1px dashed var(--border);
  padding:14px 16px; font-weight:700;
  display:flex; align-items:center; gap:8px;
  color:var(--fg-strong);
}
.section-body{ padding:16px; }

/* 입력/버튼 */
.input,.select,.btn,textarea{
  border:1px solid var(--border); background:#0c1422; color:var(--fg-base);
  border-radius:10px; padding:10px 12px; font-size:14px;
}
.select{ padding:9px 10px; }
.btn{ cursor:pointer; background:rgba(100,139,255,.16); border:1px solid rgba(100,139,255,.28); color:var(--fg-strong); }
.btn:hover{ background:rgba(100,139,255,.28); }

/* 추가 폼 */
.add-row{
  display:grid; grid-template-columns:1fr 1fr 160px 160px 130px 130px; gap:8px;
  background:rgba(255,255,255,.03); border:1px dashed var(--border);
  padding:12px; border-radius:12px; margin-top:12px;
}
.add-row textarea{ grid-column:1/-1; }
.add-row .btn.add{ grid-column:1/-1; justify-self:end; }

/* 목록/카드 */
.task-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:12px; }
.task{
  /* 테두리/배경만 유지하고 내용 영역의 '안쪽 테두리'는 없앰 */
  border:1px solid var(--border);
  border-radius:12px;
  background:var(--card-bg);
  padding:16px;
}
/* 제목 라인 (과목 + D-day) */
.task__main > .title,
.task__main > div:first-child{
  color:var(--fg-strong);
  font-weight:700;
  font-size:18px;
}
/* 본문(내용) */
.task__main > .body,
.task__main > div:nth-child(2){
  color:var(--fg-base);
  font-size:16px;
  margin-top:4px;
}
/* 메타 (날짜/교시) */
.task__main .meta{
  color:var(--fg-dim);
  margin-top:8px;
  font-size:15px;
}
/* 상세(pre) – 테두리/배경 제거로 카드 안쪽이 더 깔끔하게 */
.task pre{
  margin:10px 0 0;
  white-space:pre-wrap;
  word-break:break-word;
  color:var(--fg-base);
  background:transparent;
  border:none;
  padding:0;
}

/* 카드 안쪽 버튼 영역 */
.card-actions{ margin-top:12px; display:flex; gap:8px; }

/* D-day 배지(강한 대비) */
.dday{ display:inline-block; font-weight:700; font-size:12px; padding:4px 10px; border-radius:999px; margin-left:6px; }
.dday.red{    background:#ef4444; color:#fff; }
.dday.orange{ background:#f59e0b; color:#1b1b1b; }
.dday.yellow{ background:#fde047; color:#1b1b1b; }
.dday.green{  background:#22c55e; color:#0b1720; }
.dday.gray{   background:#64748b; color:#fff; }

/* 전달 사항 카드 */
.notice-card{ border-radius:12px; border:1px solid var(--border); padding:14px 16px; }
.kind-notice{ background:rgba(239,68,68,.10); }
.kind-info{   background:rgba(253,224,71,.10); }
.kind-alert{  background:rgba(34,197,94,.10); }
.notice-title{ font-weight:700; color:var(--fg-strong); }
.notice-meta{  color:var(--fg-dim); font-size:14px; margin-top:6px; }

/* 토글 스위치 */
.switch{ position:relative; display:inline-block; width:54px; height:30px; }
.switch input{ opacity:0; width:0; height:0; }
.slider{ position:absolute; cursor:pointer; inset:0; background:#3b556e; transition:.2s; border-radius:999px; }
.slider:before{ position:absolute; content:""; height:22px; width:22px; left:4px; top:4px; background:#fff; border-radius:50%; transition:.2s; }
input:checked + .slider{ background:#41b36a; }
input:checked + .slider:before{ transform:translateX(24px); }

/* 유틸 */
.row{ display:flex; align-items:center; }
.row-between{ display:flex; align-items:center; justify-content:space-between; }
.col{ display:flex; flex-direction:column; }
.gap-8{ gap:8px; }
.align-end{ align-self:flex-end; }
