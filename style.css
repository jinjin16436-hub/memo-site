:root{
  --bg:#0f1720; --panel:#121a24; --panel-2:#0f1620;
  --text:#e9eef7; --muted:#a7b3c6; --line:#2a3b53;
  --brand:#3a86ff; --brand-2:#2663c6;

  --green:#4caf50; --yellow:#ffb300; --orange:#ff8a00; --red:#ef4444;
  --badge:#334155; --badge-t:#e9eef7;

  --card-radius:14px;
  --shadow:0 8px 30px rgba(0,0,0,.35);
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; background:var(--bg); color:var(--text);
  font:16px/1.6 "Pretendard",system-ui,-apple-system,Segoe UI,Roboto,Arial;
}

/* --- 헤더 --- */
.topbar{
  position:sticky; top:0; z-index:100;
  display:flex; gap:16px; align-items:center; justify-content:space-between;
  padding:16px 20px; background:linear-gradient(180deg, #0f1720 0%, #101924 100%);
  border-bottom:1px solid var(--line);
}
.topbar h1{ margin:0; font-size:20px }
.auth .btn{ margin-left:8px }

/* --- 기본 UI --- */
.container{ max-width:1100px; margin:24px auto; padding:0 16px }
.card{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--card-radius);
  box-shadow:var(--shadow);
  margin:24px 0; overflow:visible;     /* 중요: 드롭다운 잘림 방지 */
}
.card-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px 10px 16px; border-bottom:1px dashed var(--line);
}
.card .title{ font-weight:700; font-size:18px }

/* --- 버튼/인풋 --- */
.btn{
  background:#1d2836; color:var(--text);
  border:1px solid var(--line); border-radius:10px;
  padding:10px 14px; cursor:pointer;
}
.btn.primary{ background:var(--brand); border-color:var(--brand-2) }
.btn.ghost{ background:transparent }
.icon-btn{ background:transparent; border:0; color:var(--muted); cursor:pointer }

.input, .select, .textarea{
  background:var(--panel-2); color:var(--text);
  border:1px solid var(--line); border-radius:10px;
  padding:10px 12px;
}
.input.grow{ flex:1 }
.textarea{ width:100%; min-height:120px; resize:vertical; margin-top:10px }

/* --- 목록 --- */
.task-list{ list-style:none; margin:0; padding:0 }
.task{
  display:flex; gap:14px; align-items:flex-start;
  padding:16px; border-top:1px solid var(--line);
}
.task:first-child{ border-top:0 }
.chk{ margin-top:2px }
.chk input{ width:18px; height:18px }

.main{ flex:1; overflow:visible }
.line1{ display:flex; align-items:center; gap:10px; margin-bottom:4px }
.subject{ font-size:18px }
.line2{ white-space:pre-wrap }
.line3{ color:var(--muted); font-size:13px; margin-top:6px }
.meta{ color:var(--muted); margin-top:6px; font-size:14px }
.ops .btn{ margin-left:8px }

/* --- D-day 뱃지 --- */
.dday{
  display:inline-block; padding:4px 10px; border-radius:999px;
  background:var(--badge); color:var(--badge-t); font-weight:700; font-size:14px;
}
.dday.urgent{ background:var(--red) }
.dday.soon{ background:var(--orange) }
.dday.near{ background:var(--yellow); color:#17212b }
.dday.far{ background:#2a7c2a }
.dday.warn{ background:#ffd166; color:#1a1a1a }
.dday.past{ background:#6c7a91 }

/* --- 추가 영역 --- */
.add-area{ padding:14px 16px; border-top:1px dashed var(--line) }
.add-area .row{ display:flex; gap:10px; align-items:center; overflow:visible }
.add-area .select, .add-area .input{ min-width:120px }
.add-area .detail{ margin-top:10px }

/* --- Notice --- */
.notice .card-head{ background:#0f1620 }
.notice-list{ list-style:none; padding:0; margin:0 }
.note{
  position:relative; margin:12px 16px; padding:14px 16px;
  border:1px solid var(--line); border-radius:12px; overflow:visible;
}
.note .note-title{ font-weight:700; margin-bottom:6px }
.note .note-body{ white-space:pre-wrap }
.note.blue{ background:#0f1b2b }
.note.yellow{ background:#2e2408 }
.note.red{ background:#2b0f13 }
.note-ops{ position:absolute; top:8px; right:8px }
.toggle{ display:flex; align-items:center; gap:8px }
.toggle input{ width:18px; height:18px }

/* --- 모달 --- */
.modal{
  position:fixed; inset:0; z-index:10000; backdrop-filter: blur(3px);
  background:rgba(0,0,0,.5);
  display:none; align-items:center; justify-content:center;
}
.modal[aria-hidden="false"]{ display:flex }
.modal-content{
  width:min(800px, 92vw); background:var(--panel);
  border:1px solid var(--line); border-radius:12px; padding:16px;
  box-shadow:var(--shadow); overflow:visible;       /* 중요 */
}
.modal-head, .modal-foot{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
}
.modal .row{ display:flex; gap:10px; margin:10px 0; overflow:visible }

/* --- 드롭다운/달력(겹침 방지) --- */
.select, select, .flatpickr-calendar{
  position:relative; z-index:2;
}
.card, .add-area, .task, .modal, .modal-content{ overflow:visible }  /* 핵심 */
